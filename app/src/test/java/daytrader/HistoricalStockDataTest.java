package daytrader;

import org.junit.Ignore;
import org.junit.Test;
import static org.junit.Assert.assertNotNull;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

public class HistoricalStockDataTest {
    private static final String dataPath = "https://finance.yahoo.com/quote/GOOG/chart?p=GOOG#eyJsYXlvdXQiOnsiaW50ZXJ2YWwiOjEsInBlcmlvZGljaXR5IjoxLCJ0aW1lVW5pdCI6Im1pbnV0ZSIsImNhbmRsZVdpZHRoIjo3Ljk3MTYzMTIwNTY3Mzc1OSwiZmxpcHBlZCI6ZmFsc2UsInZvbHVtZVVuZGVybGF5Ijp0cnVlLCJhZGoiOnRydWUsImNyb3NzaGFpciI6dHJ1ZSwiY2hhcnRUeXBlIjoibGluZSIsImV4dGVuZGVkIjpmYWxzZSwibWFya2V0U2Vzc2lvbnMiOnt9LCJhZ2dyZWdhdGlvblR5cGUiOiJvaGxjIiwiY2hhcnRTY2FsZSI6ImxpbmVhciIsInBhbmVscyI6eyJjaGFydCI6eyJwZXJjZW50IjowLjY0LCJkaXNwbGF5IjoiR09PRyIsImNoYXJ0TmFtZSI6ImNoYXJ0IiwiaW5kZXgiOjAsInlBeGlzIjp7Im5hbWUiOiJjaGFydCIsInBvc2l0aW9uIjpudWxsfSwieWF4aXNMSFMiOltdLCJ5YXhpc1JIUyI6WyJjaGFydCIsIuKAjHZvbCB1bmRy4oCMIl19LCLigIxQcmljZSBST0PigIwgKDE0KSI6eyJwZXJjZW50IjowLjE2LCJkaXNwbGF5Ijoi4oCMUHJpY2UgUk9D4oCMICgxNCkiLCJjaGFydE5hbWUiOiJjaGFydCIsImluZGV4IjoxLCJ5QXhpcyI6eyJuYW1lIjoi4oCMUHJpY2UgUk9D4oCMICgxNCkiLCJwb3NpdGlvbiI6bnVsbH0sInlheGlzTEhTIjpbXSwieWF4aXNSSFMiOlsi4oCMUHJpY2UgUk9D4oCMICgxNCkiXX0sIuKAjFBTWeKAjCAoMjApIjp7InBlcmNlbnQiOjAuMTk5OTk5OTk5OTk5OTk5OTYsImRpc3BsYXkiOiLigIxQU1nigIwgKDIwKSIsImNoYXJ0TmFtZSI6ImNoYXJ0IiwiaW5kZXgiOjIsInlBeGlzIjp7Im5hbWUiOiLigIxQU1nigIwgKDIwKSIsInBvc2l0aW9uIjpudWxsfSwieWF4aXNMSFMiOltdLCJ5YXhpc1JIUyI6WyLigIxQU1nigIwgKDIwKSJdfX0sInNldFNwYW4iOm51bGwsIm91dGxpZXJzIjpmYWxzZSwiYW5pbWF0aW9uIjp0cnVlLCJoZWFkc1VwIjp7InN0YXRpYyI6dHJ1ZSwiZHluYW1pYyI6ZmFsc2UsImZsb2F0aW5nIjpmYWxzZX0sImxpbmVXaWR0aCI6MiwiZnVsbFNjcmVlbiI6dHJ1ZSwic3RyaXBlZEJhY2tncm91bmQiOnRydWUsImNvbG9yIjoiIzAwODFmMiIsInJhbmdlIjpudWxsLCJldmVudHMiOnRydWUsInN0cmlwZWRCYWNrZ3JvdWQiOnRydWUsImV2ZW50TWFwIjp7ImNvcnBvcmF0ZSI6eyJkaXZzIjp0cnVlLCJzcGxpdHMiOnRydWV9LCJzaWdEZXYiOnt9fSwic3ltYm9scyI6W3sic3ltYm9sIjoiR09PRyIsInN5bWJvbE9iamVjdCI6eyJzeW1ib2wiOiJHT09HIiwicXVvdGVUeXBlIjoiRVFVSVRZIiwiZXhjaGFuZ2VUaW1lWm9uZSI6IkFtZXJpY2EvTmV3X1lvcmsifSwicGVyaW9kaWNpdHkiOjEsImludGVydmFsIjoxLCJ0aW1lVW5pdCI6Im1pbnV0ZSIsInNldFNwYW4iOm51bGx9XSwiY3VzdG9tUmFuZ2UiOm51bGwsIndpZHRoIjo0LCJzdHVkaWVzIjp7IuKAjEJvbGxpbmdlciBCYW5kc.KAjCAoMjAsMixtYSx5KSI6eyJ0eXBlIjoiQm9sbGluZ2VyIEJhbmRzIiwiaW5wdXRzIjp7IlBlcmlvZCI6MjAsIkZpZWxkIjoiZmllbGQiLCJTdGFuZGFyZCBEZXZpYXRpb25zIjoyLCJNb3ZpbmcgQXZlcmFnZSBUeXBlIjoibWEiLCJDaGFubmVsIEZpbGwiOnRydWUsImlkIjoi4oCMQm9sbGluZ2VyIEJhbmRz4oCMICgyMCwyLG1hLHkpIiwiZGlzcGxheSI6IuKAjEJvbGxpbmdlciBCYW5kc.KAjCAoMjAsMixtYSx5KSJ9LCJvdXRwdXRzIjp7IkJvbGxpbmdlciBCYW5kcyBUb3AiOnsiY29sb3IiOiIjZjQ5MzJmIn0sIkJvbGxpbmdlciBCYW5kcyBNZWRpYW4iOnsiY29sb3IiOiIjZmJjNThkIn0sIkJvbGxpbmdlciBCYW5kcyBCb3R0b20iOnsiY29sb3IiOiIjZjQ5MzJmIn19LCJwYW5lbCI6ImNoYXJ0IiwicGFyYW1ldGVycyI6eyJjaGFydE5hbWUiOiJjaGFydCIsImVkaXRNb2RlIjp0cnVlLCJwYW5lbE5hbWUiOiJjaGFydCIsInlheGlzRGlzcGxheUNvbG9yIjoiYXV0byIsInVuZGVybGF5RW5hYmxlZCI6ZmFsc2V9LCJkaXNhYmxlZCI6ZmFsc2V9LCLigIxQcmljZSBST0PigIwgKDE0KSI6eyJ0eXBlIjoiUHJpY2UgUk9DIiwiaW5wdXRzIjp7IlBlcmlvZCI6MTQsIkZpZWxkIjoiZmllbGQiLCJpZCI6IuKAjFByaWNlIFJPQ.KAjCAoMTQpIiwiZGlzcGxheSI6IuKAjFByaWNlIFJPQ.KAjCAoMTQpIn0sIm91dHB1dHMiOnsiUmVzdWx0IjoiYXV0byJ9LCJwYW5lbCI6IuKAjFByaWNlIFJPQ.KAjCAoMTQpIiwicGFyYW1ldGVycyI6eyJjaGFydE5hbWUiOiJjaGFydCIsImVkaXRNb2RlIjp0cnVlLCJwYW5lbE5hbWUiOiLigIxQcmljZSBST0PigIwgKDE0KSJ9LCJkaXNhYmxlZCI6ZmFsc2V9LCLigIxQU1nigIwgKDIwKSI6eyJ0eXBlIjoiUFNZIiwiaW5wdXRzIjp7IlBlcmlvZCI6MjAsImlkIjoi4oCMUFNZ4oCMICgyMCkiLCJkaXNwbGF5Ijoi4oCMUFNZ4oCMICgyMCkifSwib3V0cHV0cyI6eyJSZXN1bHQiOiJhdXRvIn0sInBhbmVsIjoi4oCMUFNZ4oCMICgyMCkiLCJwYXJhbWV0ZXJzIjp7ImNoYXJ0TmFtZSI6ImNoYXJ0IiwiZWRpdE1vZGUiOnRydWUsInBhbmVsTmFtZSI6IuKAjFBTWeKAjCAoMjApIn0sImRpc2FibGVkIjpmYWxzZX0sIuKAjFJhaW5ib3cgTUHigIwgKDIpIjp7InR5cGUiOiJSYWluYm93IE1BIiwiaW5wdXRzIjp7IlBlcmlvZCI6MiwiRmllbGQiOiJmaWVsZCIsImlkIjoi4oCMUmFpbmJvdyBNQeKAjCAoMikiLCJkaXNwbGF5Ijoi4oCMUmFpbmJvdyBNQeKAjCAoMikifSwib3V0cHV0cyI6eyJTTUExIjoiI0ZGMDAwMCIsIlNNQTIiOiIjRkY3RjAwIiwiU01BMyI6IiNGRkZGMDAiLCJTTUE0IjoiIzdGRkYwMCIsIlNNQTUiOiIjMDBGRjdGIiwiU01BNiI6IiMwMEZGRkYiLCJTTUE3IjoiIzAwN0ZGRiIsIlNNQTgiOiIjMDAwMEZGIiwiU01BOSI6IiM3RjAwRkYiLCJTTUExMCI6IiNGRjAwRkYifSwicGFuZWwiOiJjaGFydCIsInBhcmFtZXRlcnMiOnsiY2hhcnROYW1lIjoiY2hhcnQiLCJlZGl0TW9kZSI6dHJ1ZSwicGFuZWxOYW1lIjoiY2hhcnQifSwiZGlzYWJsZWQiOmZhbHNlfSwi4oCMdm9sIHVuZHLigIwiOnsidHlwZSI6InZvbCB1bmRyIiwiaW5wdXRzIjp7ImlkIjoi4oCMdm9sIHVuZHLigIwiLCJkaXNwbGF5Ijoi4oCMdm9sIHVuZHLigIwifSwib3V0cHV0cyI6eyJVcCBWb2x1bWUiOiIjMGRiZDZlZWUiLCJEb3duIFZvbHVtZSI6IiNmZjU1NDdlZSJ9LCJwYW5lbCI6ImNoYXJ0IiwicGFyYW1ldGVycyI6eyJjaGFydE5hbWUiOiJjaGFydCIsImVkaXRNb2RlIjp0cnVlfSwiZGlzYWJsZWQiOmZhbHNlfX19LCJldmVudHMiOnsiZGl2cyI6dHJ1ZSwic3BsaXRzIjp0cnVlLCJ0cmFkaW5nSG9yaXpvbiI6Im5vbmUiLCJzaWdEZXZFdmVudHMiOltdfSwicHJlZmVyZW5jZXMiOnt9fQ--";

    private static final Logger log = LogManager.getLogger(HistoricalStockDataTest.class);

    @Test @Ignore
    public void getDataPage() {
        WebScraper webScraper = new WebScraper(dataPath);
        assertNotNull(webScraper);
        IO.writeToFile( webScraper.getDoc() );
        log.debug("Test getDataPage passed.");
    }
}
